/* ==UserStyle==
@name           Dark-Telegram
@namespace      github.com/Barina/Dark-Telegram
@homepageURL    https://github.com/Barina/Dark-Telegram
@supportURL     https://github.com/Barina/Dark-Telegram/issues
@updateURL      https://raw.githubusercontent.com/Barina/Dark-Telegram/master/Dark-Telegram.styl
@version        1.0.5
@description    Customizable theme for telegram web.
@author         Roy Barina
@license        MIT
@preprocessor   stylus

@var color textc                'Text color' #ccccca

@var color msg-in-bg            'Incoming message background color'  #3c434f
@var color msg-out-bg           'Outgoing message background color' #333a47
@var range msgb                 'Messages bubble corner size' [10, 1, 100, 1, "px"]

@var color bgcolor              'Background color' #1f232a

@var color border               'Border color' #333943
@var range border-size          'Border size' [3, 0, 50, 1, "px"]

@var color control              'Base control color' #252A33
@var color control-hover        'Control hover color' #292f38
@var color control-active       'Control active color' #343b46

@var color inputbg              'Input background color' #1c2026

@var color shadow               'Shadow color' #00000040

@var color  btn-bg              'Buttons color' #2b313b
@var color  btn-bg-h            'Hover buttons color' #363d4a

@var color accent               'Accent color' #7289da

@var range round                'User photo round' [25, 0, 50, 1, "%"]

@var checkbox enableCompact     'Enable compact mode' 1
@var text compactBreak          'Compact mode breakpoint' 1080px
@var text compactDelayOn        'Compact mode hover-on delay' 0.25s
@var text compactDelayOff       'Compact mode hover-off delay' 1s
@var range comTranDurOn         'Compact mode transition on duration' [0.7, 0, 5, .1, "s"]
@var range comTranDurOff        'Compact mode transition off duration' [1.2, 0, 5, .1, "s"]

@var checkbox useChatSize       'Use custom chat width' 0
@var number chatSize            'Chat width in px' [780, 0]
@var checkbox showchatbg        'Enable chat background image' 1
@var text     chatbg            'Custom image for chat' url('https://web.whatsapp.com/img/bg-chat-tile_9e8a2898faedb7db9bf5638405cf81ae.png')
@var range    chatbg-o          'Chat background image opacity' [0.15, 0.0, 1, 0.01]
@var range    chatbg-i          'Chat background image inverted colors' [0.6, 0.0, 1, 0.1]

@var select app_image           'Custom app background' {
    'Default background          *': 'default',
    'None                         ': 'none',
}
@var text bgimage               'Custom background image' url('https://images.unsplash.com/photo-1434569117012-ce134ee1a088?fit=crop&w=1280&h=720&q=80')
@var range bgopacity            'Background image opacity' [0.4, 0.0, 1, 0.01]
@var range bgblur               'Background image blur size' [12, 0, 50, 1, 'px']
@var range bghue                'Background image hue' [320, 0, 360, 1, 'deg']
@var range bginvert             'Background image invert colors' [0, 0.0, 1, 0.1]

@var checkbox tail              'Messages tail' 1
@var checkbox vign              'Vignette effect on photos' 1

@var range emojo                'Emoji and sticker icons opacity' [.6, 0, 1, .01]
@var select emoj-pos            'Emoji and sticker popup position' {
    'Center                      *': 'center',
    'Right                        ': 'right',
    'Left                         ': 'left',
}
@var checkbox private           'Enable private mode' 0
@var checkbox shift-anim        'Enable contacts shift animation on mouse hover' 1

@var checkbox hideinitials      'Hide contact initials' 1
@var checkbox useicons          'Enable custom contact icons' 1

@var text contacticon           'Contact icon url' url("data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiIHN0YW5kYWxvbmU9Im5vIj8+Cjxz%0D%0AdmcKICAgeG1sbnM6ZGM9Imh0dHA6Ly9wdXJsLm9yZy9kYy9lbGVtZW50cy8xLjEvIgogICB4bWxu%0D%0AczpjYz0iaHR0cDovL2NyZWF0aXZlY29tbW9ucy5vcmcvbnMjIgogICB4bWxuczpyZGY9Imh0dHA6%0D%0ALy93d3cudzMub3JnLzE5OTkvMDIvMjItcmRmLXN5bnRheC1ucyMiCiAgIHhtbG5zOnN2Zz0iaHR0%0D%0AcDovL3d3dy53My5vcmcvMjAwMC9zdmciCiAgIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAw%0D%0AL3N2ZyIKICAgeG1sbnM6c29kaXBvZGk9Imh0dHA6Ly9zb2RpcG9kaS5zb3VyY2Vmb3JnZS5uZXQv%0D%0ARFREL3NvZGlwb2RpLTAuZHRkIgogICB4bWxuczppbmtzY2FwZT0iaHR0cDovL3d3dy5pbmtzY2Fw%0D%0AZS5vcmcvbmFtZXNwYWNlcy9pbmtzY2FwZSIKICAgdmlld0JveD0iMCAwIDIxMiAyMTIiCiAgIHdp%0D%0AZHRoPSIyMTIiCiAgIGhlaWdodD0iMjEyIgogICB2ZXJzaW9uPSIxLjEiCiAgIGlkPSJzdmczNzI5%0D%0AIgogICBzb2RpcG9kaTpkb2NuYW1lPSJjb250YWN0LWljb24uc3ZnIgogICBpbmtzY2FwZTp2ZXJz%0D%0AaW9uPSIwLjkyLjQgKDVkYTY4OWMzMTMsIDIwMTktMDEtMTQpIj4KICA8bWV0YWRhdGEKICAgICBp%0D%0AZD0ibWV0YWRhdGEzNzM1Ij4KICAgIDxyZGY6UkRGPgogICAgICA8Y2M6V29yawogICAgICAgICBy%0D%0AZGY6YWJvdXQ9IiI+CiAgICAgICAgPGRjOmZvcm1hdD5pbWFnZS9zdmcreG1sPC9kYzpmb3JtYXQ+%0D%0ACiAgICAgICAgPGRjOnR5cGUKICAgICAgICAgICByZGY6cmVzb3VyY2U9Imh0dHA6Ly9wdXJsLm9y%0D%0AZy9kYy9kY21pdHlwZS9TdGlsbEltYWdlIiAvPgogICAgICA8L2NjOldvcms+CiAgICA8L3JkZjpS%0D%0AREY+CiAgPC9tZXRhZGF0YT4KICA8ZGVmcwogICAgIGlkPSJkZWZzMzczMyIgLz4KICA8c29kaXBv%0D%0AZGk6bmFtZWR2aWV3CiAgICAgcGFnZWNvbG9yPSIjZmZmZmZmIgogICAgIGJvcmRlcmNvbG9yPSIj%0D%0ANjY2NjY2IgogICAgIGJvcmRlcm9wYWNpdHk9IjEiCiAgICAgb2JqZWN0dG9sZXJhbmNlPSIxMCIK%0D%0AICAgICBncmlkdG9sZXJhbmNlPSIxMCIKICAgICBndWlkZXRvbGVyYW5jZT0iMTAiCiAgICAgaW5r%0D%0Ac2NhcGU6cGFnZW9wYWNpdHk9IjAiCiAgICAgaW5rc2NhcGU6cGFnZXNoYWRvdz0iMiIKICAgICBp%0D%0AbmtzY2FwZTp3aW5kb3ctd2lkdGg9IjI1NjAiCiAgICAgaW5rc2NhcGU6d2luZG93LWhlaWdodD0i%0D%0AMTM2MSIKICAgICBpZD0ibmFtZWR2aWV3MzczMSIKICAgICBzaG93Z3JpZD0iZmFsc2UiCiAgICAg%0D%0AaW5rc2NhcGU6c25hcC1nbG9iYWw9InRydWUiCiAgICAgaW5rc2NhcGU6c25hcC1iYm94PSJ0cnVl%0D%0AIgogICAgIGlua3NjYXBlOmJib3gtcGF0aHM9InRydWUiCiAgICAgaW5rc2NhcGU6YmJveC1ub2Rl%0D%0Acz0idHJ1ZSIKICAgICBpbmtzY2FwZTpzbmFwLWJib3gtZWRnZS1taWRwb2ludHM9InRydWUiCiAg%0D%0AICAgaW5rc2NhcGU6c25hcC1iYm94LW1pZHBvaW50cz0idHJ1ZSIKICAgICBpbmtzY2FwZTpzbmFw%0D%0ALWludGVyc2VjdGlvbi1wYXRocz0idHJ1ZSIKICAgICBpbmtzY2FwZTpzbmFwLXNtb290aC1ub2Rl%0D%0Acz0idHJ1ZSIKICAgICBpbmtzY2FwZTp6b29tPSI0IgogICAgIGlua3NjYXBlOmN4PSIxMTAuMTgx%0D%0AMzYiCiAgICAgaW5rc2NhcGU6Y3k9Ijk5LjU3MDIyOSIKICAgICBpbmtzY2FwZTp3aW5kb3cteD0i%0D%0ALTkiCiAgICAgaW5rc2NhcGU6d2luZG93LXk9Ii05IgogICAgIGlua3NjYXBlOndpbmRvdy1tYXhp%0D%0AbWl6ZWQ9IjEiCiAgICAgaW5rc2NhcGU6Y3VycmVudC1sYXllcj0ic3ZnMzcyOSIgLz4KICA8cmVj%0D%0AdAogICAgIGZpbGw9IiMxZjIzMmEiCiAgICAgd2lkdGg9IjIxMiIKICAgICBoZWlnaHQ9IjIxMiIK%0D%0AICAgICBpZD0icmVjdDM3MjUiIC8+CiAgPHBhdGgKICAgICBjbGFzcz0icHJpbWFyeSIKICAgICBk%0D%0APSJtIDE3My41NjEsMTcxLjYxNSBjIC0wLjY1OTksLTEuMDA0NTcgLTEuMzQ4NTIsLTEuOTg5OTcg%0D%0ALTIuMDY1LC0yLjk1NSAtMC44MzQ5NiwtMS4xMjY0MSAtMS43MDQ3MSwtMi4yMjY2MSAtMi42MDgs%0D%0ALTMuMjk5IC0xLjAyMTE4LC0xLjIxMTMgLTIuMDgzMTIsLTIuMzg3NjUgLTMuMTg0LC0zLjUyNyAt%0D%0AMS44Njk2LC0xLjkzMzkzIC0zLjg0NzQ1LC0zLjc2MDIgLTUuOTI0LC01LjQ3IC0zLjE5NDUxLC0y%0D%0ALjYyOTAyIC02LjYwODMyLC00Ljk3OTYxIC0xMC4yMDQsLTcuMDI2IC0xLjk0Njg1LC0xLjEwNjg3%0D%0AIC0zLjk0MjE3LC0yLjEyNjIyIC01Ljk4LC0zLjA1NSAtMC4wNjIsLTAuMDI4IC0wLjExOCwtMC4w%0D%0ANTkgLTAuMTgsLTAuMDg3IC05Ljc5MiwtNC40NCAtMjIuMTA2LC03LjUyOSAtMzcuNDE2LC03LjUy%0D%0AOSAtMTUuMzEsMCAtMjcuNjI0LDMuMDg5IC0zNy40MTYsNy41MjkgLTAuMzM4LDAuMTUzIC0wLjY1%0D%0AMywwLjMxOCAtMC45ODUsMC40NzQgLTIuMTI2NjI3LDEuMDAxNTkgLTQuMjA1MjMzLDIuMTAyMTMg%0D%0ALTYuMjI5LDMuMjk4IC0zLjIwOTYzMywxLjg5MzYzIC02LjI2ODY3Niw0LjAzMTYyIC05LjE1LDYu%0D%0AMzk1IC0yLjA3NjM0NywxLjcxMDA0IC00LjA1NDE4LDMuNTM2MjkgLTUuOTI0LDUuNDcgLTEuMTAw%0D%0AOTA1LDEuMTM5MzMgLTIuMTYyODQ5LDIuMzE1NjcgLTMuMTg0LDMuNTI3IC0wLjkwMzkwNSwxLjA3%0D%0AMjE1IC0xLjc3Mzk5OCwyLjE3MjM2IC0yLjYwOSwzLjI5OSAtMC43MTYyNTIsMC45NjUxOSAtMS40%0D%0AMDQ4NjQsMS45NTA1OSAtMi4wNjUsMi45NTUgQyAzMC4xNjczMjYsMTg0LjAyMDIzIDI1LjkzNDQx%0D%0ANiwxOTYuOTgyNzUgMjMuODc5NzI5LDIxMiBIIDEwNS45NDQgMTg2Ljk3MjM2IGMgLTIuMDU0ODgs%0D%0ALTEzLjQ0ODA3IC01LjA0Nzk1LC0yNi4yMjk3NiAtMTEuOTY1MzYsLTM4LjA2Mjk5IC0wLjQ2Mzc5%0D%0ALC0wLjc4NTE5IC0wLjk0NTkyLC0xLjU1OTQxIC0xLjQ0NiwtMi4zMjIgeiBNIDEwNi4wMDIsMTI1%0D%0ALjUgYyAyLjY0NSwwIDUuMjEyLC0wLjI1MyA3LjY4LC0wLjczNyAxLjIyMTg2LC0wLjIzOTU0IDIu%0D%0ANDMxMjksLTAuNTM4NTYgMy42MjQsLTAuODk2IDEuNzUyNTksLTAuNTI1NiAzLjQ2MzkyLC0xLjE4%0D%0AMDA1IDUuMTIsLTEuOTU4IDIuMTY1OTQsLTEuMDE3NjYgNC4yMjU5NiwtMi4yNDY5NyA2LjE1LC0z%0D%0ALjY3IDMuODI1OTcsLTIuODMwMyA3LjA1MTQyLC02LjM5MjYxIDkuNDg5LC0xMC40OCAwLjkyNTgx%0D%0ALC0xLjU1MTI3IDEuNzM1MzYsLTMuMTY5MDQgMi40MjIsLTQuODQgMC43MDE4MiwtMS43MDQ4NyAx%0D%0ALjI3NTQyLC0zLjQ1OTc0MyAxLjcxNiwtNS4yNSAwLjI5OSwtMS4yMDggMC41NDIsLTIuNDQzIDAu%0D%0ANzI1LC0zLjcwMSAwLjI3NSwtMS44ODcgMC40MTcsLTMuODI3IDAuNDE3LC01LjgxMSAwLC0xLjk4%0D%0ANCAtMC4xNDIsLTMuOTI1IC0wLjQxNywtNS44MTEgLTAuMjcxMjcsLTEuODU4MzY3IC0wLjY3NzM0%0D%0ALC0zLjY5NDU0NCAtMS4yMTUsLTUuNDk0IC0wLjg2ODI0LC0yLjkwNjE5IC0yLjA5MzU5LC01LjY5%0D%0AMzQ2OCAtMy42NDgsLTguMjk4IC0yLjQzNzU4LC00LjA4NzM5NCAtNS42NjMwMywtNy42NDk3MDIg%0D%0ALTkuNDg5LC0xMC40OCAtMS45MjQxOCwtMS40MjI4MDkgLTMuOTg0MTgsLTIuNjUyMTA4IC02LjE1%0D%0ALC0zLjY3IC0xLjY1NjA4LC0wLjc3Nzk0OCAtMy4zNjc0MSwtMS40MzIzOTggLTUuMTIsLTEuOTU4%0D%0AIC0xLjE5MjQ1LC0wLjM1ODM3NyAtMi40MDE5MywtMC42NTc0MSAtMy42MjQsLTAuODk2IC0yLjUz%0D%0AMDE2LC0wLjQ5MzMzNCAtNS4xMDIyLC0wLjc0MDE1NiAtNy42OCwtMC43MzcgLTIxLjE2MiwwIC0z%0D%0ANy4zNDUsMTYuMTgzIC0zNy4zNDUsMzcuMzQ1IDAsMjEuMTU5IDE2LjE4MywzNy4zNDIgMzcuMzQ1%0D%0ALDM3LjM0MiB6IgogICAgIGlkPSJwYXRoMzcyNyIKICAgICBpbmtzY2FwZTpjb25uZWN0b3ItY3Vy%0D%0AdmF0dXJlPSIwIgogICAgIHN0eWxlPSJmaWxsOiNhMWExYTEiCiAgICAgc29kaXBvZGk6bm9kZXR5%0D%0AcGVzPSJzY2NjY2NjY3NjY2NjY2NjY2NjY2Njc3NjY2NjY2Njc2NjY2NjY2Njc3NzIiAvPgo8L3N2%0D%0AZz4K")

@var text groupicon             'Group icon url' url("data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0idXRmOCI/Pg0KPHN2ZyB4bWxucz0iaHR0cDov%0D%0AL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAyMTIgMjEyIiB3aWR0aD0iMjEyIiBo%0D%0AZWlnaHQ9IjIxMiI+DQogICAgPHJlY3QgZmlsbD0iIzFmMjMyYSIgd2lkdGg9IjIxMiIgaGVpZ2h0%0D%0APSIyMTIiLz4NCiAgICA8cGF0aCBmaWxsPSIjYTFhMWExIiBjbGFzcz0icHJpbWFyeSIgZD0iTTYx%0D%0ALjU0MyAxMDAuOTg4YzguMDczIDAgMTQuMjQ2LTYuMTc0IDE0LjI0Ni0xNC4yNDZzLTYuMTczLTE0%0D%0ALjI0Ni0xNC4yNDYtMTQuMjQ2LTE0LjI0NiA2LjE3My0xNC4yNDYgMTQuMjQ2IDYuMTc0IDE0LjI0%0D%0ANiAxNC4yNDYgMTQuMjQ2em04LjE1OSAxNy41NDFhNDguMTkyIDQ4LjE5MiAwIDAgMSA4LjU0NS02%0D%0ALjA2MmMtNC4xNzQtMi4yMTctOS42NDEtMy44NTktMTYuNzA0LTMuODU5LTIxLjg0NCAwLTI4LjQ5%0D%0AMiAxNS42Ny0yOC40OTIgMTUuNjd2OC4wNzNoMjYuMTgxbC4xMDUtLjI0OGMuMzAzLS43MTMgMy4x%0D%0ANjQtNy4xNTEgMTAuMzY1LTEzLjU3NHptODAuNzU1LTkuOTIxYy02Ljg1NCAwLTEyLjIxIDEuNTQz%0D%0ALTE2LjMzNiAzLjY2MWE0OC4yMjMgNDguMjIzIDAgMCAxIDguOTAzIDYuMjZjNy4yMDEgNi40MjIg%0D%0AMTAuMDYxIDEyLjg2MSAxMC4zNjQgMTMuNTc0bC4xMDUuMjQ4aDI1LjQ1NnYtOC4wNzNjLS4wMDEg%0D%0AMC02LjY0OS0xNS42Ny0yOC40OTItMTUuNjd6bTAtNy42MmM4LjA3MyAwIDE0LjI0Ni02LjE3NCAx%0D%0ANC4yNDYtMTQuMjQ2cy02LjE3My0xNC4yNDYtMTQuMjQ2LTE0LjI0Ni0xNC4yNDYgNi4xNzMtMTQu%0D%0AMjQ2IDE0LjI0NiA2LjE3MyAxNC4yNDYgMTQuMjQ2IDE0LjI0NnptLTQ0LjA5MyAzLjIxYTIzLjIx%0D%0AIDIzLjIxIDAgMCAwIDQuNDY0LS40MjhjLjcxNy0uMTQgMS40MTktLjMxNSAyLjEwNi0uNTIxIDEu%0D%0AMDMtLjMwOSAyLjAyMy0uNjkgMi45NzYtMS4xMzhhMjEuMDk5IDIxLjA5OSAwIDAgMCAzLjU3NC0y%0D%0ALjEzMyAyMC44NzIgMjAuODcyIDAgMCAwIDUuNTE1LTYuMDkxIDIxLjI4MyAyMS4yODMgMCAwIDAg%0D%0AMi4xMjEtNC44MjMgMjIuMTYgMjIuMTYgMCAwIDAgLjcwNi0zLjE5M2MuMTYtMS4wOTcuMjQyLTIu%0D%0AMjI0LjI0Mi0zLjM3N3MtLjA4My0yLjI4MS0uMjQyLTMuMzc3YTIyLjc3OCAyMi43NzggMCAwIDAt%0D%0ALjcwNi0zLjE5MyAyMS4yODMgMjEuMjgzIDAgMCAwLTMuMjcyLTYuNTUgMjAuODQ4IDIwLjg0OCAw%0D%0AIDAgMC00LjM2NC00LjM2NCAyMS4wOTkgMjEuMDk5IDAgMCAwLTMuNTc0LTIuMTMzIDIxLjQ4OCAy%0D%0AMS40ODggMCAwIDAtMi45NzYtMS4xMzggMjIuMzMgMjIuMzMgMCAwIDAtMi4xMDYtLjUyMSAyMy4y%0D%0AMDIgMjMuMjAyIDAgMCAwLTQuNDY0LS40MjhjLTEyLjI5OSAwLTIxLjcwNSA5LjQwNS0yMS43MDUg%0D%0AMjEuNzA0IDAgMTIuMjk5IDkuNDA2IDIxLjcwNCAyMS43MDUgMjEuNzA0ek0xNDUuNjI5IDEzMWEz%0D%0ANi43MzkgMzYuNzM5IDAgMCAwLTEuMi0xLjcxOCAzOS44MDQgMzkuODA0IDAgMCAwLTMuMzY3LTMu%0D%0AOTY3IDQxLjQ4MSA0MS40ODEgMCAwIDAtMy40NDItMy4xNzkgNDIuMDc4IDQyLjA3OCAwIDAgMC01%0D%0ALjkzMS00LjA4MyA0My43MjUgNDMuNzI1IDAgMCAwLTMuNDc2LTEuNzc2Yy0uMDM2LS4wMTYtLjA2%0D%0AOS0uMDM0LS4xMDQtLjA1LTUuNjkyLTIuNTgxLTEyLjg0OS00LjM3Ni0yMS43NDYtNC4zNzYtOC44%0D%0AOTggMC0xNi4wNTUgMS43OTUtMjEuNzQ2IDQuMzc2LS4xOTYuMDg5LS4zNzkuMTg1LS41NzIuMjc2%0D%0AYTQzLjMxNiA0My4zMTYgMCAwIDAtMy42MiAxLjkxNyA0Mi4zMiA0Mi4zMiAwIDAgMC01LjMxOCAz%0D%0ALjcxNiA0MS41MDEgNDEuNTAxIDAgMCAwLTMuNDQzIDMuMTc5IDQwLjYzMiA0MC42MzIgMCAwIDAt%0D%0AMy4zNjYgMy45NjdjLS40NTIuNjEtLjg1MSAxLjE4Ni0xLjIgMS43MTgtLjMyNC40OTMtLjYuOTQz%0D%0ALS44NDEgMS4zNTFsLS4wNjEuMTAxYTI3Ljk2IDI3Ljk2IDAgMCAwLS42MjIgMS4xMTljLS4zMjUu%0D%0ANjIxLS40NzUuOTc1LS40NzUuOTc1djExLjY5Mmg4Mi41M3YtMTEuNjkycy0uMzYtLjg0Mi0xLjE1%0D%0AOC0yLjE5NWEzNS40MTcgMzUuNDE3IDAgMCAwLS44NDItMS4zNTF6Ii8+DQo8L3N2Zz4=")

@var checkbox fullscreen        'Enable fullscreen' 0

@var range clight               'Colors lightness' [0.75, 0, 2, 0.01]
@var range chue                 'Colors hue' [320, 0, 360, 1, 'deg']
@var range ccon                 'Colors contrast' [50, 0, 100, 1, "%"]

@var color usrc1                'User color 1' #6f5c8a
@var color usrc2                'User color 2' #476845
@var color usrc3                'User color 3' #817356
@var color usrc4                'User color 4' #4e6274
@var color usrc5                'User color 5' #815956
@var color usrc6                'User color 6' #7d5464
@var color usrc7                'User color 7' #4e6974
@var color usrc8                'User color 8' #745e4e

@var color usrbgc1              'User bg color 1' #9978a5
@var color usrbgc2              'User bg color 2' #6e9362
@var color usrbgc3              'User bg color 3' #9d926c
@var color usrbgc4              'User bg color 4' #668399
@var color usrbgc5              'User bg color 5' #906060
@var color usrbgc6              'User bg color 6' #a37584
@var color usrbgc7              'User bg color 7' #669799
@var color usrbgc8              'User bg color 8' #9d806c


==/UserStyle== */
@-moz-document domain("web.telegram.org") {
    :root {
        --test-color #292f38
    
        --control-t-hover rgba(control-hover, .5)
        --control-t-active rgba(control-active, .5)
    
        --accent-t rgba(accent, .3)
    
        --bgblur bgblur
    
        --chatbg chatbg
        --chatbg-o chatbg-o
        --chatbg-i chatbg-i
    
        --tail-v (tail is 1 ? visible : hidden)
        --vignette (vign is 1 ? visible : hidden)
    
        --is-private (private is 1 ? 10px : 0);    
        
        --version "Dark-Telegram v1.0.5 â€” April 4th, 2020"
        --message "Please report any issues on GitHub so that we can fix them."
        --link "https://github.com/Barina/Dark-Telegram"
        --notice "Ported from: https://github.com/vednoc/dark-whatsapp"
    }
    
    /* Variable */
    i = !important
    
    t-in = .1s
    t-out = 1s
    
    msgb-thumb = msgb - 5
        
    accent-alt = accent + 33%
    
    // set emoji popup position
    if(emoj-pos is right) {
        emoj-l = -1px
        emoj-t-l = initial
        emoj-t-r = 260px
    } else if(emoj-pos is left) {
        emoj-l = -263px
        emoj-t-l = initial
        emoj-t-r = -1px
    } else {
        /* center */
        emoj-l = -133px
        emoj-t-l = 50%
        emoj-t-r = initial
    }


    /* Mixins & Functions */    
    shad(){
        -webkit-box-shadow arguments
        -moz-box-shadow arguments
        -webkit-shadow arguments
        -moz-shadow arguments
        box-shadow arguments
    }

    /* background */
    bg() { Background arguments }
    bgc() { background-color arguments }
    bgi() { background-image arguments }
    bgs() { background-size arguments }

    /* border */
    brad() { border-radius arguments }

    /*
    *   Clamping a given value by a given minimum and maximum.
    */
    clamp(value, minimum, maximum){
        max(minimum, min(maximum, value))
    }

    /* setting up icon and contact name colors */
    colors1 = #000 usrc1 usrc2 usrc3 usrc4 usrc5 usrc6 usrc7 usrc8
    colors2 = #000 usrbgc1 usrbgc2 usrbgc3 usrbgc4 usrbgc5 usrbgc6 usrbgc7 usrbgc8
    
    ch = hue-rotate(chue)
    cc = contrast(ccon)

    for c, n in colors1{
        .user_color_{n},.user_color_{n}:hover{ 
            color c * clight i
            filter ch cc
        }
    }
    for c, n in colors2{
        .user_bgcolor_{n}{ 
            bg c * clight i
            filter ch cc
        }
    }

    /* default colors */
    // .user_color_1,.user_color_1:hover{ color: usrc1 i; }
    // .user_color_2,.user_color_2:hover{ color: usrc2 i; }
    // .user_color_3,.user_color_3:hover{ color: usrc3 i; }
    // .user_color_4,.user_color_4:hover{ color: usrc4 i; }
    // .user_color_5,.user_color_5:hover{ color: usrc5 i; }
    // .user_color_6,.user_color_6:hover{ color: usrc6 i; }
    // .user_color_7,.user_color_7:hover{ color: usrc7 i; }
    // .user_color_8,.user_color_8:hover{ color: usrc8 i; }
    // .user_bgcolor_1{ bg: usrbgc1 i; }
    // .user_bgcolor_2{ bg: usrbgc2 i; }
    // .user_bgcolor_3{ bg: usrbgc3 i; }
    // .user_bgcolor_4{ bg: usrbgc4 i; }
    // .user_bgcolor_5{ bg: usrbgc5 i; }
    // .user_bgcolor_6{ bg: usrbgc6 i; }
    // .user_bgcolor_7{ bg: usrbgc7 i; }
    // .user_bgcolor_8{ bg: usrbgc8 i; }
    

    /* style pose */
    /*body,div,p,a,.tg_head_peer_title,.im_dialog_peer>span,.im_short_message_text,.im_dialog_chat_from_wrap,.im_short_message_media,.im_short_message_service,.im_submit {
        color transparent i
    }
    .tg_head_peer_title,.icon-tg-title,.im_dialog_peer>span,.im_short_message_text,.im_dialog_chat_from_wrap,.im_short_message_media,.im_short_message_service,.im_submit {
        bgc control-active
        bgi none
        brad 4px
    }
    img.im_dialog_photo{
        visibility hidden
        bgc transparent i
        bgi contacticon i
        bgs cover i
    }
    .im_dialog_chat_from_wrap,.im_short_message_media,.im_short_message_service {
        bgc accent i
    }*/
    /* end of pose */
    

    /* contact icon initials */
    if(hideinitials is 1){
        .peer_initials{
            color transparent
        }
    }

    /* contact icon */
    if(useicons is 1){
        .im_dialog_photo,
        .im_message_contact_photo,
        .im_message_from_photo,
        .im_message_fwd_photo,
        .md_modal_list_peer_photo,
        .peer_modal_photo{
            bgc transparent i
            bgi contacticon
            bgs cover
        }    
    }

    /* changed group icon in message history */
    a.im_service_message_photo_thumb{
        max-width 42px
        max-height 42px
        brad round
        overflow hidden
    }
        
    .im_service_message_photo_thumb{
        max-width 42px
        max-height 42px
        background-size cover
        display -webkit-inline-box    
    }
        
    /* Blurry mode for contacts and photos */
    .im_dialog_wrap.active,
    .im_dialog_wrap,
    .tg_head_peer_info,
    .im_content_message_wrap,
    .composer_rich_textarea{
        filter blur(var(--is-private))
        transition t-out
    }
    
    /* disable blur on mouse hover */
    .im_dialog_wrap.active:hover,
    .im_dialog_wrap:hover,
    .tg_head_peer_info:hover,
    .im_content_message_wrap:hover,
    .composer_rich_textarea:hover{
        filter blur(0)
        transition t-in
    }

    .im_dialog_wrap,
    .im_dialogs_panel{
        border-bottom 1px solid border
    }
    
    /* chat size */
    .im_send_form,
    .im_send_panel_wrap,
    .im_message_wrap,
    .composer_rich_textarea {
        if(useChatSize){
            max-width unit(chatSize, "px") i
        } else{
            max-width 100% i
        }
    }

    .im_send_panel_wrap {
        bg control i
        padding-bottom 10px
    }
    
    /* emoji's & stickers opacity */
    a.composer_emoji_btn,
    .composer_sticker_image{
        opacity emojo
        &:hover{
            opacity 1
        }
    }

    /* emoji's button background when hovered */
    a.composer_emoji_btn:hover{
        bgc control-active
    }
        
    .tg_head_split{
        margin-top 23px
        height 49px
        border 1px solid border i
    }

    /* fullscreen mixin */
    fullscreenblock() {
        .tg_head_split{
            margin-top -1px i
        }
        .im_page_wrap,
        .tg_head_split{
            min-width 100% i
        }
        .footer_wrap.footer_empty{
            display none i
            height 0
        }
    }

    /* setting fullscreen mode */
    if(fullscreen){
        fullscreenblock()
    }else{
        @media screen and (max-width 1010px), (max-height 600px){
            fullscreenblock()    
        }
    }
        
    .im_page_wrap,
    .tg_head_split {
        max-width: 1396px;
        shad 0px 0px 10px shadow
    }
    
    /* mention dropdown */
    .composer_dropdown_wrap{
        bgc control
        border 1px solid border
        brad 2px
    }
    
    .composer_dropdown_wrap>div>div>div>div>div>div>ul>li>a:hover{
        bgc control-hover i
    }
    
    /* chat background */
    .im_history_wrap{
        bgc bgcolor
        if(showchatbg and chatbg-o > 0){
            &:before{
                content ''
                position absolute
                top 0
                left 0
                bottom 0
                right 0
                bgi (showchatbg ? chatbg : none)
                filter invert(chatbg-i) opacity(chatbg-o)
            }
        }
    }
    
    .im_history_scrollable_wrap .im_history_scrollable{
        // bgc bgcolor
        // filter: invert(chatbg-i) opacity(chatbg-o);
    }
    
    /* chat bubbles */
    .im_message_text {
        border 1px border
        padding 10px
        brad 0px 10px 10px 10px
    }
    
    /* user photo */
    .im_dialog_photo,
    .md_modal_list_peer_photo,
    .im_message_contact_photo,
    .im_message_from_photo,
    .im_message_fwd_photo{
        brad round
    }
    
    /* own user photo in chat history */
    .im_message_out a.im_message_from_photo{        
        visibility hidden
        width 0
        min-width 0
        margin 0
    }
    
    .im_message_contact_photo,
    .im_message_from_photo,
    .im_message_fwd_photo{
        min-width 42px
    }

    /* shifting user photos in chat a bit up */
    a.im_message_from_photo{
        margin-top -10px
    }
        
    /* short message bubble */
    .im_grouped_short .im_message_outer_wrap .im_message_out .im_message_body,
    .im_grouped_short .im_message_outer_wrap .im_message_in .im_message_body{
        brad msgb
    }
        
    /* message bubble base */
    .im_message_body{
        bgc msg-in-bg
        brad msgb
        padding 0px 3px 3px 3px
        border 1px solid border
        border-top none
        shad 0px 3px 5px shadow
    }
    
    /* clamping video thumb images to 256x256 */
    img.im_message_video_thumb{
        max-width 256px
        max-height 256px
        width auto
        height auto
    }

    /* fix message body to fit inside chat area */
    div.im_message_body{
        display grid i
    }
    
    /* messages bubble tail*/
    .im_message_body:before{
        content ''
        position absolute
        top 0px
        height 0
        width 0
        visibility var(--tail-v)
    }
    
    /* in tail */
    .im_message_in .im_message_body:before{
        /*left: 79px;*/
        left 48px
        border-top 15px solid msg-in-bg
        border-left 10px solid transparent
    }
    
    /* out tail */
    .im_message_out .im_message_body:before{
        /*right: 37px;*/
        right 6px
        border-top 15px solid msg-out-bg
        border-right 10px solid transparent
    }
    
    /* hide tails in short messages */
    .im_grouped_short .im_message_outer_wrap .im_message_out .im_message_body:before,
    .im_grouped_short .im_message_outer_wrap .im_message_in .im_message_body:before{
        display none
        visibility hidden
    }
    
    /* out message bubble */
    .im_message_out .im_message_body{
        bgc msg-out-bg
        border-top-right-radius 1px
        margin-left 10px
        margin-right 15px
    }
    
    /* in message bubble */
    .im_message_in .im_message_body{
        border-top-left-radius 1px
    }
    
    /* photo messages */
    .im_message_photo_thumb,
    .im_message_video_thumb{
        brad msgb-thumb i
    }
    
    /* photo messages vignette */
    .im_message_video_thumb,
    .im_message_photo_thumb::before{
        content ''
        position absolute
        width inherit
        height 100%
        opacity 1
        shad inset 0px 0px 50px black
        transition t-out
        visibility var(--vignette)
    }
    
    /* fade out vignette when mouse hover */
    .im_message_video_thumb,
    .im_message_photo_thumb:hover::before{
        opacity .75
        transition t-in
    }
    
    /* fix the vignette in the right place */
    .im_message_video_thumb,
    a.im_message_photo_thumb{
        position relative
    }
    
    .im_message_author{
        padding 0px 5px 0px 5px
        margin 0
    }
    
    .im_message_out .im_message_body .im_message_author_wrap .im_message_author{        
        text-align end
        width 100%
    }
        
    .im_message_in .im_message_body .im_message_author_wrap .im_message_author{        
        text-align start
        width 100%
    }
        
    /* right user profile photo in text area */
    a.pull-right,
    #notify_sound {
        display none
        margin 0
        padding 0
        width 0
        height 0
    }
    
    /* accent color pulsing animation */
    @keyframes pulse{
        0%{
            color accent
        }
        25%{
            color accent-alt
        }
        100%{
            color accent
        }
    }
        
    /* welcome message panel */
    .im_history_not_selected{
        margin auto
        width 70%
        color accent
        animation pulse ((t-out + t-in) * 2) ease-in-out infinite
        /* show custom message */
        &:before{
            display block
            content var(--message) " \A " var(--link) " \A"
            white-space pre-wrap
            border-bottom 1px solid border
            font-size 16px
            margin-bottom 16px
            padding 16px 20%
            color textc
            user-select auto i
        }
        /* version footer */
        &:after{
            display block
            content var(--notice) '\A' var(--version)
            white-space pre-wrap
            border-top 1px solid border
            font-size 11px
            margin-top 16px
            padding-top 16px
            color textc - 50%
            user-select auto i
        }
    }
    
    /* user is typing */
    .im_history_typing{
        margin auto
        display table
        text-align center
        bg control
        border 1px solid border
        border-radius 7px
        margin-bottom 15px
        padding 3px 10px
    }
    
    html,
    .modal-content{        
        bgc bgcolor i
    }
    
    body{
        /* bgc bgcolor i*/
        color textc i
        &:before{
            if(app_image == default and bgopacity != null and bgopacity > .01){
                content ''
                s = calc(-2px * var(--bgblur));
                b = blur(bgblur);
                o = opacity(bgopacity);
                i = invert(bginvert);
                h = hue-rotate(bghue);
                left s
                top s
                bottom s
                right s
                width 100%
                height 100%
                filter b o i h
                bgi bgimage
                bgs cover
                position absolute
                z-index -1
            } else {
                display none
            }
        }
    }
    
    a.tg_checkbox{
        color textc i
    }

    /* outer body */
    .im_page_wrap {
        /*background color of contentwrapper under header*/
        bgc control i
        border-top 0px none i
        border-left 1px solid border i
        border-right 1px solid border i
        border-bottom 1px solid border i
        border-radius 0 0 border-size border-size
        shad 0px 3px 5px shadow
    }

    /* nickname unselected */
    .im_dialog_peer {
        color textc i;     
    }

    /*nicknames in contactlist via hamburger menu*/
    .contacts_modal_members_list a.contacts_modal_contact {
        color textc
    }
    
    /* hiding FF scrollbars */
    .nano-content{
        scrollbar-width none
    }

    .im_dialogs_scrollable_wrap a.im_dialog_searchpeer{
        transitio t-out;
    }
    
    .contacts_modal_members_list .active a.contacts_modal_contact,
    .im_dialogs_scrollable_wrap a.im_dialog_searchpeer:hover,
    .im_dialogs_scrollable_wrap a.im_dialog_searchpeer_selected,
    .active a.im_dialog {
        /*selected peer */
        bgc control-active i
        transition t-in
    }
    
    /* top bar */
    .tg_head_split,
    .md_modal_head{
        /*page header block*/
        bgc control i
        brad border-size border-size 0px 0px
    }

    /* fixing top corners buttons border-size */
    .tg_head_btn.dropdown-toggle{
        brad border-size border-size 0px 0px
        &:hover{
            bg none i
        }
    }

    .dropdown.open .tg_head_btn,
    .tg_head_btn:hover,
    .im_bottom_panel_wrap {
        bg control i
    }
    
    .tg_head_btn{  
        height 47px
        top 0
        transition t-out
        .tg_head_btn:hover{
            transition t-in
            bgc none
        }
    }    
    
    .tg_head_logo_wrap, .tg_head_logo_wrap:hover{
        border-right 1px solid border
    }
    
    /* search box */
    .form-control,
    .form-control:focus,
    .im_dialogs_modal_col_wrap .im_dialogs_search_field{
        bgc inputbg
        border-radius border-size
        color #fff i
        border-color border i
    }

    .im_dialogs_col_wrap {
        /* contact list right border */
        border-right 1px solid border
        border-top 0px none i
        padding-bottom initial
        height auto
    }

    /* positioning meta data as preparation for compact mode*/
    .im_dialog_meta{
        position absolute
        right 18px
    }

    /* fixing theader in place and hiding all overflow content */
    .dropdown-toggle{
        white-space nowrap
        overflow hidden
    }
    

    if(enableCompact){
        @media screen and (max-width compactBreak) {
            wmin = 80px
            wmax = 31%
            
            /* let all the envolved transit nicely */
            .tg_head_main_wrap,
            .im_history_col_wrap,
            .im_send_form,
            .im_dialog_meta,
            .tg_head_logo_wrap,
            .im_dialogs_col_wrap,
            .icon-tg-title{
                transition comTranDurOff ease i
                transition-delay compactDelayOff i
            }
            
            /* top left header and contact list minimum width */
            .tg_head_logo_wrap,
            .im_dialogs_col_wrap{
                width wmin
            }
            
            /* top right header and message history panel maximum width */
            .tg_head_main_wrap,
            .im_history_col_wrap{
                width calc(100% - 80px)
            }

            /* hiding top left header text and metadata */
            .im_dialog_meta,
            .icon-tg-title{
                opacity 0
            }
            
            /* while contact list is hovered or has focus within (search box) */
            .page_wrap .im_page_wrap .im_page_split .im_dialogs_col_wrap:hover,
            .page_wrap .im_page_wrap .im_page_split .im_dialogs_col_wrap:focus-within{
                /* let all the envolved transit nicely */
                .tg_head_logo_wrap,//<- need to fix that
                .tg_head_main_wrap,//<- need to fix that
                .icon-tg-title,//<- need to fix that
                & .im_dialogs_col .im_dialogs_wrap .im_dialogs_scrollable_wrap .nav .im_dialog_wrap .im_dialog .im_dialog_meta,
                ~ .im_history_col_wrap,
                &{
                    transition comTranDurOn ease i
                    transition-delay compactDelayOn i
                }
                
                /* maximize contact list and top left header width */
                / div .tg_page_head .tg_head_split .tg_head_logo_wrap:hover,//<- need to fix that
                &{
                    width wmax i
                }

                /* minimize message history (including textarea) and top right header width to it's initial state */
                .tg_head_main_wrap,//<- need to fix that
                ~ .im_history_col_wrap{
                    width 69% i
                }
                
                /* show top left header text and metadata */
                .icon-tg-title,//<- need to fix that
                & .im_dialogs_col .im_dialogs_wrap .im_dialogs_scrollable_wrap .nav .im_dialog_wrap .im_dialog .im_dialog_meta{
                    opacity 1 i
                }
            }

            /* while hovering the top left header (temporary until I find a way to do this from a different selector) */
            .tg_head_logo_wrap:hover{
                width wmax i
                &,
                .icon-tg-title,
                ~ .tg_head_main_wrap{
                    transition comTranDurOn ease i
                    transition-delay compactDelayOn i
                    opacity 1 i
                }
                ~ .tg_head_main_wrap{
                    width 69% i
                }
            }
        }
    }

    /* inline code messages */
    code {
        color accent
        bgc control
    }

    /* buttons */
    .btn,
    .im_edit_cancel_link,
    .im_submit,
    .btn:focus,
    .im_edit_cancel_link:focus,
    .im_submit:focus{
        bgc btn-bg
        padding 5px 15px
        margin 0px
        height auto
        width auto
        border 1px solid border
        border-bottom 3px solid border
        border-radius 5px
        shad 0px 2px 5px shadow
        transition t-out
        color accent
    }

    /* buttons hover */
    .btn:hover,
    .im_edit_cancel_link:hover,
    .im_submit:hover {
        bgc btn-bg-h i
        shad 0px 2px 5px shadow
        border 1px solid border
        border-bottom 3px solid border
        transition t-in
        color accent-alt
    }
        
    /* round button */
    .im_record_bg,
    .im_message_file_button,
    .md_modal_split_action{
        bgc btn-bg
        border 1px solid border
        shad 0px 2px 5px shadow
        transition t-out
        color accent
        &:hover{
            bgc btn-bg-h i
            shad 0px 2px 5px shadow
            border 1px solid border
            transition t-in
            color accent-alt
        }
    }
    
    /* counter on buttons and current session text */
    .im_selected_count,
    .session_active_date_online{
        color accent-alt
    }
    
    .btn.btn-link.dropdown-toggle{
        padding 3px 8px;       
    }
    
    .im_message_mymention {
        bg control
    }

    .im_message_focus .im_message_outer_wrap {
        bgc control
    }

    .im_message_selected .im_message_outer_wrap {
        bg var(--control-t-hover)
    }

    a.im_dialog:hover, .dropdown-menu a:hover{
        bgc control-hover i
        // transition: t-in;
    }
    
    /* current conversation marker in contact list */
    .im_dialog_wrap.active{
        padding-left 4px
        transition t-out
        &:before{
            content ''
            width 4px
            transition t-in
            position absolute
            bgc accent-alt
            left 0
            top 0
            bottom 0
            right 0
        }
    }
    
    if(shift-anim == 1){
        /* contact list shift animation */
        .im_dialog_wrap a.im_dialog{
            transition padding-left t-in ease-in
            &:hover{
                transition padding-left t-in ease-out
                padding-left 24px
            }
        }
    }
    
    /* unread banner text */
    .im_message_unread_split{
        margin-bottom 25px
        line-height 30px
        position relative
        z-index 1
    }

    /* unread banner background */
    .im_message_unread_split::before {
        visibility visible
        content ''
        bgc control i
        border-top 1px solid border
        border-bottom 1px solid border
        position absolute
        min-width 100px i
        width 100%
        height 40px
        left 0
        right 0
        margin-top -5px
        z-index -2
    }

    /* unread banner text bacground */
    .im_message_unread_split::after {
        visibility visible
        content ''
        bgc control-active i
        border-radius 50px
        position absolute
        vertical-align middle
        text-align center
        min-width 100px i
        width 140px
        height 30px
        line-height 30px
        margin-top 0px
        margin-left -70px
        left 50%
        z-index -1
    }

    @keyframes im_message_focus_fade {
        0% {
            /* soft transition */
            bgc control-hover
        }
    }

    .im_history_select_active .im_message_outer_wrap:hover {
        bg var(--control-t-active)
        // transition: t-in;
    }

    .im_dialog_chat_from_wrap,
    .im_dialog_message_service {
        color red
    }
    
    .im_bottom_panel_wrap{
        border-top 1px solid border
    }
    
    /* status dot in message history area */
    .im_message_out>.icon-message-status{
        bg accent
        margin-left 5px;       
    }
    .im_dialog_unread,
    .active .im_dialog_unread{
        bg accent
        bgc accent
    }
    
    /* message selected icon */
    .icon-select-tick{
        visibility hidden
    }
    
    /* bottom area container */
    .im_send_form {
        /* position: absolute; */
        // top 0
        left 40px
        // bottom 0
        // right -40px
        height unset
        position relative
        margin-right 50px
        display grid
        grid-template-columns 1fr 190px
        grid-column-gap 10px
    }
    
    /* bottom area edit panel (for edit message, replying etc..) */
    .im_edit_panel_wrap{
        padding 0 0 16px
        margin 15.5px 16px 0 16px
    }
    
    .im_edit_panel_border{
        border-bottom 1px solid border
        display none
    }
    
    /* hiding useless emoji's below textarea */
    .composer_emoji_panel{
        display none
    }
    
    /* text message area */
    .im_send_field_wrap {
        border-radius border-size
        min-height 32px
        height auto
        grid-row 2
        grid-column 1
        margin unset
        margin-top 3px
        padding-bottom unset
    }
    
    /* bottom area buttons */
    .im_send_buttons_wrap{
        // visibility: hidden;
        display table
        grid-row 2
        grid-column 2
    }
    
    /* chosen reply message position */
    .im_send_reply_wrap{
        grid-row 1
        grid-column 1 / span 2
    }
    
    /* chosen reply message close button position */
    .im_send_reply_cancel{
        // margin: 0px 0 0px 16px;
        left 15px
        bottom -25%
        position relative
    }
    
    /* pinned message close button position */
    .im_history_pinned_hide{
        margin-right 16px
        margin-top 20px
    }
    
    /* message textbox */
    .composer_rich_textarea,
    .composer_textarea{
        shad 0px 1px 1px control
        bg inputbg i
        padding 9px 30px 12px 12px i
        width auto i
        height auto i
        max-width 680px
        min-height 42px
        left 0 i
        font-size 15px
        border 1px solid border
        brad border-size i
        word-wrap break-word
        margin-top -3px
        scrollbar-width none
    }
    
    /* message textbox when focused */
    .composer_rich_textarea:focus {
        shad 0px 1px 1px accent i
        border 1px solid border
        border-radius border-size i
        min-height 42px
        scrollbar-width none
    }
   
    /* files drop area with animation */
    .im_send_dropbox_wrap{
        padding 10px
        border unset
        font-size 18px
           
        text-align center
        background linear-gradient(to right, accent 20%, accent-alt 40%, accent-alt 60%, accent 80%)
        background-size 200% auto
        
        background-clip text
        text-fill-color transparent
        -webkit-background-clip text
        -webkit-text-fill-color transparent
        
        animation wipe 1s linear infinite
        @keyframes wipe {
            to {
                background-position 200% center
            }
        }     
    }
    
    /* own user profile photo in text area */
    a.im_panel_own_photo{
        display none
        visibility hidden
        width 0
        height 0
        margin 0
        padding 0
    }

    /* margin media buttons */
    .im_attach{
        margin-top 14px i
    }
    .im_attach, .im_media_attach{
        margin 13px 6px
    }
    .im_record_supported .im_record{
        margin 5px 18px
    }
    .im_submit_send{
        margin-top 5px
    }
    
    /* making emoji button visible outside textarea */
    .im_send_field_wrap,
    .im_inline_placeholder_wrap{
        overflow unset
    }
        
    /* emoji button */
    .composer_emoji_insert_btn{
        position absolute
        left -39px
        top 8px
        cursor pointer
        margin-top 1px
        display block
    }
    
    .btn-primary {
        bgc btn-bg
    }

    .btn-primary:hover {
        bgc control-hover
        transition t-in
    }

    .btn-primary.disabled,
    .btn-primary[disabled] {
        bg btn-bg none repeat scroll 0% 0%
    }

    /*emoji*/
    .composer_emoji_tooltip,
    .icon-tooltip-tail,
    .dropdown-menu {
        bgc control i
        border-color border i
        border-radius 3px i
        shad 0px 0px 5px shadow
    }
    
    /* drop shadow under top dropdown menus */
    .tg_head_peer_dropdown .dropdown-menu,
    .tg_head_logo_dropdown .dropdown-menu{
        shad 0 0 5px shadow
    }

    /* views eye */
    .im_message_views{
        left 4px
        top 25px
        right 0
        display inline-block
        position relative
        white-space nowrap
        line-height normal
        text-align left
        bg control
        border 1px solid border
        border-radius: 7px
        padding 3px 5px
        opacity .5
    }
    
    
    .divider{
        bgc border i
    }
    
    .contacts_modal_contact:hover{
        bg control-hover i
        transition t-in
    }
    
    .im_service_message_wrap {
        text-align center
    }
    
    /* pinned and history date message */
    .im_service_message_wrap .im_service_message
    {
        bgc control
        padding 6px
        border 1px solid border
        border-bottom 3px solid border
        border-radius 5px
        shad 0px 2px 5px shadow
        display inline-block
        float center
        width auto
        margin 5px auto
    }

    /* message time */
    .im_message_date{
        /*color rgba(173, 173, 173, .25)*/
        opacity .5
        bg control
        border 1px solid border
        border-radius 7px
        margin 0px 4px
    }
    
    .im_message_date, .im_message_fwd_date{
        padding 1px 4px
    }
    
    /*.im_message_meta, .historyMessage, .im_message_out{
    }*/
    
    .im_message_meta{        
        order 2
        height 100%
        &:before{
            content "\A"
            white-space pre
        }
        &:after{
            content "\A"
            white-space pre
        }        
    }
    
    /*.im_content_message_wrap{                
    }*/
    
    .im_grouped_short .im_content_message_wrap,
    .im_content_message_wrap{
        margin 2px 16px
    }
    
    .im_message_meta,
    .historyMessage,
    .im_message_out{
         display flex
    }
    
    .im_message_out{
         float right
         flex-direction row-reverse
         /* bg #ff000030 */
    }
    
    .im_message_in{
        float left
        flex-direction row
        /* bg #ff000036 */
    }
    
    .historyMessage{
       flex-wrap wrap
       order 1
    }
    
    /* right scrollbar */
    .im_history_col .nano > .nano-pane,
    .contacts_modal_col .nano > .nano-pane,
    .sessions_modal_col .nano > .nano-pane,
    .stickerset_modal_col .nano > .nano-pane, 
    .im_dialogs_modal_col .nano > .nano-pane,
    .composer_rich_textarea,
    .composer_textarea,
    ::-webkit-scrollbar{
        right 0
        top 0
        bottom 0
        border-radius 0
        width 6px
        background #0003
        z-index 5
    }
    
    /* right scrollbar knob */
    .im_history_col .nano > .nano-pane > .nano-slider,
    .contacts_modal_col .nano > .nano-pane > .nano-slider,
    .sessions_modal_col .nano > .nano-pane > .nano-slider,
    .stickerset_modal_col .nano > .nano-pane > .nano-slider,
    .im_dialogs_modal_col .nano > .nano-pane > .nano-slider,
    .composer_rich_textarea,
    .composer_textarea,
    ::-webkit-scrollbar-thumb{
        border-radius 0
        background accent
        z-index 5
    }
    
    /*scrollbarbutton when hover*/
    .im_dialogs_col .nano > .nano-pane > .nano-slider,
    ::-webkit-scrollbar-thumb:hover{
       background accent-alt
       z-index 5
    }
    
    /* contacts scrollbar area */    
    .im_dialogs_col{
        margin-right 0
        bottom 0
    }
    
    /* contacts scrollbar bg */
    .im_dialogs_col .nano > .nano-pane{
        background #0003
        width 4px
    }
    
    /* contacts scrollbar */
    .im_dialogs_col .nano > .nano-pane > .nano-slider{
        background-color accent i
        width 5px
        left -5px
    }
    
    /* accent colors */
    .im_message_author, .im_message_fwd_author,
    a, a:focus, a:hover,
    .tg_head_btn,
    .composer_emoji_tooltip_tab_emoji,
    .composer_emoji_tooltip_tabs_stickers_active .composer_emoji_tooltip_tab_stickers,
    .im_message_document_name,
    .btn-link, .btn-link:hover,
    .im_message_reply_author,
    .im_message_unread_split,
    .peer_modal_profile_description,
    .tg_head_peer_dropdown .dropdown-menu > li > a,
    a.im_dialog .im_dialog_chat_from_wrap, 
    a.im_dialog .im_short_message_media, 
    a.im_dialog .im_short_message_service,
    .tg_head_logo_dropdown .dropdown-menu > li > a,
    .md_modal_list_peer_description .status_online,
    .md_modal_list_peer_description.status_online{
        color accent
        // transition t-in
    }
    
    /* emoji/stickers tab */
    .composer_emoji_tooltip_tab_shadow{
        bg accent-alt
        shad 0 1px 0 0 accent-alt
    }
    
    /* emoji popup position */
    .composer_emoji_tooltip{
        margin-left emoj-l
    }
    
    /* emoji popup tail position */
    .composer_emoji_tooltip_tail{
        left emoj-t-l
        right emoj-t-r
        bottom -12px
    }
    
    /* sticker button background */
    .composer_sticker_btn:hover,
    .stickerset_modal_sticker_wrap:hover{
        bg control-hover
    }
    
    /* message content when hover in left contact list */
    .contacts_modal_contact_wrap:hover .contacts_modal_contact .md_modal_list_peer_description,
    a.im_dialog:hover .im_short_message_text{
        color accent-alt
    }
    
    /* date when hover in left contact list */
    a.im_dialog:hover .im_dialog_date{
        color accent
    }
    
    a.im_dialog:hover .im_dialog_meta .im_dialog_unread,
    a.im_dialog:hover .im_dialog_meta .active .im_dialog_unread{
        bgc accent-alt
    }
    
    .md_modal_iconed_section_wrap{
        border-bottom 1px solid border
    }
    
    /* left border in pinned and reply messages */
    .im_message_reply_border{
        // bg accent-alt;
        // height: 36px;
        display none
    }
    
    /* removing extra padding from reply message */
    .im_message_reply{
        padding-left unset
    }
    
    /* replay and pinned messages */
    .im_message_reply_wrap,
    .im_history_pinned_wrap .im_message_reply{
        bgc #0003
        brad 0 2px 2px 0
        padding 8px 16px
        border 1px solid border
        position relative
        overflow hidden
        &:before{
            content ''
            width 5px
            height 100%
            bgc accent-alt
            position absolute
            left 0
            top 0
            right 0
            bottom 0
        }
    }
    
    /* media messages */
    .audio_player_wrap,
    .im_message_document{
        bgc #0003
        brad msgb-thumb
        padding 8px 
        border 1px solid border
        margin-top 4px
        display block
    }
    /* fixing the media messages button in place ... */
    .im_message_document{
        display -webkit-box i
    }

    /* media not supported message */
    div[ng-switch-when="messageMediaUnsupported"]{
        bgc #0003
        brad msgb-thumb
        padding 0px 8px
        margin-top 4px
    }

    /* reply messages border radius */
    .im_message_reply_wrap{
        brad msgb-thumb
    }
        
    /* pinned message are */
    .im_history_pinned_wrap{
        border-bottom 1px solid border
        position relative
    }
    
    /* pinned messages border-radius */
    .im_history_pinned_wrap .im_message_reply{
        brad border-size
    }
    
    /* removing the bottom margin from thumbed reply messages */
    .im_message_reply_wrap .im_message_reply_thumbed{
        margin-bottom unset
    }
    
    /* thumbed reply messages content fix */
    .im_message_reply_thumb_wrap{
        display inline
        width inherit
        position relative
        margin-right 12px
    }
    
    /* thumbed reply messages thumb fix */
    .im_message_reply_thumbed .im_message_reply_author,
    .im_message_reply_thumbed .im_message_reply_body{
        display block
        position relative
        margin-left unset
    }
    
    /* shared link background */
    .im_message_webpage_wrap{
        brad 0 msgb-thumb msgb-thumb 0
        border-color accent-alt
        bgc #0000000d
    }
    
    /* model divider */
    .md_modal_section_splitter{
        bg control
        shad none
        border-top none
    }
    
    /* group info edit input */
    .md-input{
        bg inputbg
        color textc
    }
    .md-input-group{
        border-bottom 1px solid control
    }
    .md-input-focused{
        border-bottom 1px solid accent
    }
    
    /* headers */
    h1, h2, h3, h4, h5,
    .composer_stickerset_title,
    .composer_stickerset_title:hover{
        color textc
    }
    
    /* toggles ON */
    .tg_checkbox.tg_checkbox_on i.icon-checkbox-inner{
        bg accent
    }
    
    /* toggles OFF */
    .tg_checkbox i.icon-checkbox-inner{
        bg control
        shad none
        border 1px solid border
    }
    
    /* toggles bg ON */
    .tg_checkbox.tg_checkbox_on span.icon-checkbox-outer, {
        bg accent-alt
        opacity 1
        transition t-in
    }
    
    /* toggles bg OFF */
    .tg_checkbox span.icon-checkbox-outer{
        bg accent-alt
        opacity .75
        transition t-out
    }
    
    /* lang drop down */
    .dropdown-menu>li>a,
    .dropdown-menu>li>a:focus,
    .dropdown-menu>li>a:hover{
        color textc
    }
    
    /* slider thumb */
    .tg_slider_thumb{
        bg accent
    }
    /* slider track */
    .tg_slider_track{
        bg border
    }
    /* slider track filled */
    .tg_slider_track_fill{
        bg accent-alt
    }
    
    /* radio button */
    a.tg_radio{    
        color textc
    }
    
    i.icon-radio{
        bgc control
        border 3px solid border
    }
    
    /* radio button outer */
    .tg_radio .icon-radio-outer{
        border 2px solid control
    }
    
    .tg_radio.tg_radio_on .icon-radio-outer{
        border-color accent
    }
    
    /* radio button inner */
    .tg_radio.tg_radio_on i.icon-radio,
    a.tg_radio_on i.icon-radio,
    .tg_radio.tg_radio_on .icon-radio-outer{
        bgc accent
    }
    
    /* radio button hover */
    a.tg_radio:hover i.icon-radio,
    a.tg_radio_on:hover i.icon-radio{
        bgc accent-alt
    }
    
    /* media track fill */
    .audio_player_seek_slider .tg_slider_track_fill,
    /* progress bar fill */
    .tg_down_progress .progress-bar, .tg_up_progress .progress-bar,
    /* volume knob */
    .audio_player_volume_slider .tg_slider_thumb,
    .audio_player_volume_slider .tg_slider_track_fill{
        bg accent
    }
    
    /* volume slider track */
    .audio_player_volume_slider .tg_slider_track,
    /* media slider track */
    .audio_player_seek_slider .tg_slider_track{
        bg var(--accent-t)
    }
    
    /* unread badge */
    .im_dialog_badge{
        bg accent
    }
    
    /* unread badge active */
    .active .im_dialog_badge{
        bgc accent-alt
        color textc
    }
    
    /* unread badge muted */
    .im_dialog_badge_muted{
        bg var(--accent-t)
    }
    
    /* media player panel */
    .media_modal_bottom_panel_wrap{
        bgc control
    }
}